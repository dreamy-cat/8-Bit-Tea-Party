;8-Бит Чаепитие! Лицензия: Creative Commons.
;Платформа: 8086, BIOS, DOS.
;Инструменты: NASM(2.15).
;Авторы: Александр Серов (funny.dreamy.cat@gmail.com) [1].
;
; Глобальные имена и системные константы, библиотека стандартного кода.

; Задачи:
; - дополнять по мере накопления процедур и имён для удобства;
; - вопрос о глобальных(статичных) переменных пока открыт, в процессе кода;
; - общий ввод и вывод, также здесь;
; - посмотреть внимательно синтаксис на совместимость с TASM;
; - посмотреть синтаксис структур данных и возможно его применить(NASM, TASM);
; - MDA - адаптер немного отличается, дополнительно в следующий версиях.

; Все константы должны быть заглавными буквами, со знаком подчеркивания для
;разделения слов. Максимальная длина 24 символа.
; Для обозначения байтов, слов или двойных слов использовать полностью
;все цифры или буквы в независимости от числа, но чтобы оно соответствовало
;размерности самого числа. Форматы желательно применять с максимальным
;уровнем совместимости на основе синтаксиса и дополнять комментарием.

; Возможно в будущем переопределение некоторых ключевых управляемых слов
;для разных ассемблеров и улучшения совместимости. Пока только NASM(2.15+).

; Пример слова, целое 16-бит, 2 байта, все 4 цифры и 0 впереди в 16-тиричном
;обозначении или формате. Адреса обозначаются точно также.
; КОНСТАНТА_СЛОВО        EQU 01234H     ;Описание константы или параметра.

; Пример байта, целое 8-бит, 1 байт, все 2 цифры и 0 впереди в 16-тиричном
;обозначении или формате.
; КОНСТАНТА_БАЙТ         EQU 0FFH       ;Описание константы или параметра.

; Пример бинарная константа, 8 бит, 1 байт, все 8 цифр, включая нули слева.
; БИНАРНЫЙ_БАЙТ          EQU 01011010B  ;Флаги, все 8 бит. Или знак "%".


; Наша 16-ти битная строка, с дополнительными параметрами. Формат данных:
;Смещение:      Размер: Описание:
;0000           2       Длина строки в байтах, от 0 до 65535(0FFFFh);
;0002           2       Смещение или начало данных текста, прибавить к началу.
;ТЕКСТ          БАЙТЫ   Сама строка в виде символов, без нуль терминала.

; Имена и константы строки, подумать над удобством ключевого слова структуры.

STR_LEN_SIZE            EQU 002H        ;Количество байт для размера строки.
STR_LEN_OFFS            EQU 00000H      ;Смещение длины строки от начала адреса.
STR_TEXT_OFFS           EQU 00002H      ;Смещение текста от начала адреса.
STR_TEXT_MAX            EQU -00004H     ;Максимальная длина текста в строке.

; Пример строки, как данных.
; string_hello:  dw  0000Ch             ; Длина строки вручную или инструментом.
;                dw  00004h             ; Смещение текста от начала адреса.
;                db "Hello World!"      ; Сам текст без дополнительных данных.

; Имена и константы текстовых режимов.
; CGA+ (40*25) или режим 1, 16 цветов атрибутов, требуемая память 2000 байт.
; CGA+ (80*25) или режим 3, 16 цветов атрибутов, требуемая память 4000 байт.
; VGA  (80*50) или режим 3 с отключением двойного сканирования, 8000 байт.

SCR_ADDRESS             EQU 0B800H      ;Адрес буфера экрана CGA+.
SCR_WIDTH               EQU 050H        ;Ширина экрана 80 символов, режим 1.
SCR_HEIGHT              EQU 019H        ;Высота экрана 25 символов, режимы 1,3.
SCR_WIDTH_HALF          EQU 028H        ;Ширина экрана 40 символов, режим 1.
SCR_HEIGHT_DOUBLE       EQU 032H        ;Высота экрана 50 символов, режим 3+.
SCR_WIDTH_BYTE          EQU 0A0H        ;Количество байт на каждую линию.
SCR_WIDTH_WORD          EQU 050H        ;Количество слов на каждую линию.
SCR_SIZE_BYTE           EQU 00FA0H      ;Размер экрана(страницы) в байтах.
SCR_SIZE_WORD           EQU 007D0H      ;Размер экрана(страницы) в словах.

; Глобальные системные и стандартные переменные для всех процедур системы.


; Общее описание всех системных и стандартных процедур, кроме дополнительных
;библиотек графики VGA, стандартной мышки, звукового чипа OPL и подобного.


; 25.09.2021, А.С.: Создание этого файла и других системных заголовков.
